<html>
<head>
<title>WebRTC WONDER</title>

<meta http-equiv="X-UA-Compatible" content="chrome=1"/>

<!-- Load the polyfill to switch-hit between Chrome and Firefox -->
<script src="../../api/adapter.js"></script>

<script src="../../api/Message.js"></script>
<script src="../../api/Identity.js"></script>
<script src="../../api/Enums.js"></script>
<script src="../../api/helpfunctions.js"></script>
<script src="../../api/Conversation.js"></script>
<script src="../../api/Participant.js"></script>
<script src="../../api/Idp.js"></script>
<script src="../../api/MessageFactory.js"></script>
<script src="../../api/Resource.js"></script>
<script src="../../api/DataBroker.js"></script>
<script src="../../api/Codec.js"></script>
<script src="../../api/DataMessage.js"></script>
<script src="main.js"></script>

<script src="../../api/MessagingStub.js"></script>
<script src="../../stubs/MessagingStub_IMS2Cloud.js"></script>
    
</head>
<body>
<script type="text/javascript">
  var loginName;

var TURN = {
 url:"turn:150.140.184.242:3479", 
 username: "wonder", 
 credential:"w0nd3r"
};
var STUN ={url: "stun:150.140.184.242:3479"};
var iceServers = { "iceServers": [STUN, TURN]};

var mediaConstraints = {optional: [{RtpDataChannels: true}]};
</script>
        <div id="login">
            <input type="text" id="loginText" value="alice@imsserver.ece.upatras.gr">  passwd:<input type="password" id="password" value="alice"><button id="loginButton" onclick="initialize()">Login</button>
        </div>

        <div id="container">
            <div id="card" ondblclick="">
                <div id="local">
                    <video id="localVideo" autoplay="autoplay" muted="true"></video>
                </div>
                <div id="remote">
                    <video id="remoteVideo" autoplay="autoplay">
                    </video>
                    <div id="mini">
                        <video id="miniVideo" autoplay="autoplay" muted="true"></video>
                    </div>
                </div>
            </div>
            <div>
                <!-- <div id="call">Call user: <input type="text" id="callTo" value="steffen@snc-ims.tlabs.de"><button id="callButton" onclick="doCall()">Call</button></div> -->
                <div id="call">Call user: <input type="text" id="callTo" value="miguel@MiguelDomain.com"><button id="callButton" onclick="doCall()">Call</button></div>
                <button id="updateConversation" onclick="updateConversation()">updateConversation</button>
                <button id="hangup" onclick="hangup()">Hangup</button>
            </div>
                <footer id="status"></footer>
                <div id="infoDiv"></div>
            </div>
        </div>
        <div id="chat" style="float: left; border: 1px solid black;">
            <div id="textChat">

            </div>
            <input type="text" id="datachannelmessage" /><br>
            <button id="sentMessageData" onclick="sentMessageData()">send</button>
        </div>

        <script>
            document.getElementById('login').style.visibility = 'visible';
            document.getElementById('container').style.visibility = 'hidden';
            document.getElementById('chat').style.visibility = 'hidden';
            document.getElementById('updateConversation').style.visibility = 'hidden';
        </script>
</html>
